<nav class="gob-header">
    <div class="header-left-group">
        <a href="https://www.gob.mx"><img class="logo-gob" src="https://framework-gb.cdn.gob.mx/landing/img/logoheader.svg" alt="Gobierno de México"></a>
        
        <div class="dropdown" style="display: inline-block; margin-left: 15px;">
            <button onclick="toggleAccSiged()" style="background:none; border:none; color:white; cursor:pointer; font-size:18px;" title="Herramientas de accesibilidad">
                <i class="fas fa-universal-access"></i>
            </button>
            <div id="panelSiged" class="acc-menu-oficial">
                <div class="acc-option" onclick="changeFontSize('inc')">A+</div>
                <div class="acc-option" onclick="changeFontSize('dec')">A-</div>
                <div class="acc-option" onclick="toggleContrast()"><i class="fas fa-adjust"></i></div>
                <div class="acc-option" onclick="resetAcc()"><i class="fas fa-redo"></i></div>
            </div>
        </div>
    </div>
    
    <i class="fas fa-bars menu-icon" onclick="toggleMenu()"></i>
    <div id="navMenu" class="nav-menu">
        <a href="https://www.gob.mx/tramites">Trámites</a>
        <a href="https://www.gob.mx/gobierno">Gobierno</a>
    </div>
</nav>

<style>
    /* Estilos específicos para que el menú aparezca debajo del icono, no lateral */
    .acc-menu-oficial {
        display: none;
        position: absolute;
        background: white;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 10005;
        border-radius: 4px;
        margin-top: 10px;
    }
    .acc-menu-oficial.show { display: flex; justify-content: space-around; padding: 10px; }
    .acc-option {
        color: #333;
        padding: 5px 10px;
        text-decoration: none;
        display: block;
        cursor: pointer;
        font-weight: bold;
        border: 1px solid #ddd;
        border-radius: 3px;
    }
    .acc-option:hover { background-color: #f1f1f1; }
    
    /* Clase para alto contraste */
    .high-contrast { background: #000 !important; color: #fff100 !important; }
    .high-contrast *:not(.acc-option) { background-color: #000 !important; color: #fff100 !important; border-color: #fff100 !important; }
</style>

<script>
    /* Lógica corregida para el menú oficial junto al logo */
    function toggleAccSiged() {
        document.getElementById('panelSiged').classList.toggle('show');
    }

    // Cerrar el menú si se hace clic fuera de él
    window.onclick = function(event) {
        if (!event.target.matches('.fa-universal-access') && !event.target.matches('button')) {
            var dropdowns = document.getElementsByClassName("acc-menu-oficial");
            for (var i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }
    }

    function toggleContrast() { 
        document.body.classList.toggle('high-contrast'); 
    }

    let fontSize = 100;
    function changeFontSize(action) {
        if(action === 'inc' && fontSize < 130) fontSize += 5;
        if(action === 'dec' && fontSize > 90) fontSize -= 5;
        document.body.style.fontSize = fontSize + "%";
    }

    function resetAcc() { 
        document.body.classList.remove('high-contrast'); 
        fontSize = 100;
        document.body.style.fontSize = "100%";
    }
</script>
